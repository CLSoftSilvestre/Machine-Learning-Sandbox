{% extends 'base.html' %}

{% block content %}

  <ol class="breadcrumb">
    <li class="breadcrumb-item">
        <a href="{{ url_for('index') }}">Trained models</a>
    </li>
    <li class="breadcrumb-item active">Details</li>
  </ol>

  <h3 class="m-4">Model details</h3>
  <div class="row">
    <div class="col-12">
      {% if Model %}
      
      <div class="card bg-light ms-4 me-4 mb-4">
        <div class="card-header">
          <i class="fa-solid fa-list fa-lg"></i> Model details
        </div>
        <div class="card-body">
          <!-- Controlos para selecionar projecto a visualizar -->
          <div class="form-horizontal">

            <img src="data:image/jpeg;base64,{{imageData}}" class="img-fluid mx-auto d-block img-thumbnail" alt="trainImage">

            <hr>

            <div>&MediumSpace;</div>

            <div class="form-group row">
              <!-- UUID field -->
              <label for="UUID" class="col-sm-2 col-form-label">Model UUID</label>
              <div class="col-sm-4">
                <input type="text" class="form-control text-left" id="UUID" value="{{Model.uuid}}" disabled>
              </div>

              <!-- Model Name field -->
              <label for="ModelName" class="col-sm-2 col-form-label">Model name</label>
              <div class="col-sm-4">
                <input type="text" class="form-control text-left" id="ModelName" value="{{Model.name}}" disabled>
              </div>
              
            </div>

            <div>&MediumSpace;</div>

            <div class="form-group row">

              <!-- Description field -->
              <label for="Description" class="col-sm-2 col-form-label">Description</label>
              <div class="col-sm-10">
                <textarea type="text" class="form-control text-left" id="Description" disabled>{{Model.description}}</textarea>
              </div>
              
            </div>

            <div>&MediumSpace;</div>
                
            <div class="form-group row">  
              <!-- Algorithm -->
              <label for="Algorithm" class="col-sm-2 col-form-label">Algorithm type</label>
              <div class="col-sm-10">
                <input type="text" class="form-control text-left" id="Algorithm" value="{{Model.model}}" disabled>
              </div>

            </div>
          
            <hr>
                  
            <div class="form-group row">

              <!-- MSE field -->
              <label for="MSE" class="col-sm-2 col-form-label">MSE score</label>
              <div class="col-sm-4">
                <input type="text" class="form-control text-left" id="MSE" value="{{'%0.2f'|format(Model.MSE)}}" disabled>
              </div>

              <!-- R2 field -->
              <label for="R2" class="col-sm-2 col-form-label">RÂ² score</label>
              <div class="col-sm-4">
                <input type="text" class="form-control text-left" id="R2" value="{{'%0.3f'|format(Model.R2)}}" disabled>
              </div> 

            </div>

            <hr>

            <div class="form-group row">  
              <!-- Model path -->
              <label for="Path" class="col-sm-2 col-form-label">Model stored path</label>
              <div class="col-sm-10">
                <input type="text" class="form-control text-left" id="Path" value="{{Model.modelPath}}" disabled></input>
              </div>                
            </div>

            <hr>

            Input variables:
            <ul>
                {% for variable in Model.variables %}

                <li>{{variable.name}} ( {{variable.varType}} )</li>

                {% endfor %}
            </ul>

            <div>&MediumSpace;</div>

            <!-- Save data button -->
            <!--div class="form-group row">
                <div class="col-sm-12 text-center">
                    <button type="submit" class="btn btn-primary disabled"><i class="fas fa-save"></i> Save model info</button>
                </div>
            </div-->
            
          </div>
        </div>    
      </div>

      <!-- TODO: Add model details here... -->
      {% else %}
      <h5 class="alert alert-primary ms-4 me-4">Model not found</h5>
      {% endif %}  
    </div>
  </div>

{% endblock %}
